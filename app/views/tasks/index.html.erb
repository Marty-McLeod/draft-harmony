<!-- "How to" page view, explaining basic use instructions to users (no login required) -->
<div class="container">

    <div class="col-12 bg-white rounded-3 mt-3 p-3">
        <div class="d-flex justify-content-between align-items-center">
            <%# Show the current count for user's tasks that exist %>
                <h1>My writing tasks (<%= @tasks.count %>)</h1>

                <a type="button" href="url_for(new_task_path)" class="btn btn-secondary btn-lg"><i class="fa-solid fa-plus"> </i>Add new task</a>

        </div>

        <%# Iterate over tasks already created and display as cards to user %>
        <div class="row justify-content-between">
            <% @tasks.each do |task| %>

                <div class="card col-3">

                    <div class="card-body">
                        <!-- show task title & indicate if an associated outline exists -->
                        <div><h3 class="card-title d-flex align-center">task.title</h3><%= task.outline.exist? ? raw('<span class="badge bg-secondary"<i class="fa-solid fa-check"></i> Outline</span>') %>
                        </div>

                        <p class="text-ternary">Assignment notes:</p>
                        <p><%= task.assignment_notes.present? ? task.assignment_notes : <em>(No notes yet)</em> %></p>
                        <p>Synopsis:</p>
                        <p class="text-muted fs-italic"><%= truncate(task.synopsis, length: 20) %></p>

                    </div>

                </div>
            <% end %>
        </div>
    </div>

</div>